// AlgorithmPractice.cpp : 이 파일에는 'main' 함수가 포함됩니다. 거기서 프로그램 실행이 시작되고 종료됩니다.
//
#include <cstdio>
#include <iostream>
#include <string>
#include <list>

using namespace std;

int main(void) 
{
	string s;
	list<char> sl;

	char a;
	char b;


	cin >> s;

	for (auto c : s)
	{
		sl.push_back(c);
	}

	int n;

	cin >> n;


	list<char>::iterator iter = sl.end();

	for (int i = 0; i < n; i++)
	{
		cin >> a;
		cin.ignore();

		if (a == 'L')
		{
			if(iter != sl.begin())
				iter--;
		}

		else if (a == 'D')
		{
			if(iter != sl.end())
				iter++;
		}

		else if (a == 'B')
		{
			if (iter != sl.begin())
			{
				iter--;
				iter = sl.erase(iter);
			}
		}

		else if (a == 'P')
		{
			cin >> b;
			sl.insert(iter, b);
		}
	}

	for (auto c : sl)
	{
		cout << c;
	}

	return 0;
}

